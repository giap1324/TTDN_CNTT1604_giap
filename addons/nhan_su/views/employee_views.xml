<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- Tree View -->
        <record id="view_hr_employee_extended_tree" model="ir.ui.view">
            <field name="name">hr.employee.extended.tree</field>
            <field name="model">hr.employee.extended</field>
            <field name="arch" type="xml">
                <tree string="Danh s√°ch nh√¢n vi√™n" import="1">
                    <field name="employee_code"/>
                    <field name="name"/>
                    <field name="department_id"/>
                    <field name="job_title"/>
                    <field name="phone"/>
                    <field name="work_email"/>
                    <field name="state"/>
                    <field name="hire_date"/>
                </tree>
            </field>
        </record>

        <!-- Form View -->
        <record id="view_hr_employee_extended_form" model="ir.ui.view">
            <field name="name">hr.employee.extended.form</field>
            <field name="model">hr.employee.extended</field>
            <field name="arch" type="xml">
                <form string="Th√¥ng tin nh√¢n vi√™n">
                    <header>
                        <button name="action_activate_profile" string="K√≠ch ho·∫°t h·ªì s∆°"
                                type="object" class="oe_highlight"
                                attrs="{'invisible': [('state', '!=', 'pending')]}"/>
                        <button name="action_deactivate_profile" string="H·ªßy k√≠ch ho·∫°t"
                                type="object"
                                attrs="{'invisible': [('state', '!=', 'active')]}"/>
                        <button name="action_terminate_profile" string="ƒê√°nh d·∫•u ngh·ªâ vi·ªác"
                                type="object"
                                attrs="{'invisible': [('state', '==', 'terminated')]}"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,pending,active,inactive"/>
                    </header>
                    <sheet>
                        <div class="oe_title">
                            <h1>
                                <field name="name" placeholder="H·ªç v√† t√™n ƒë·∫ßy ƒë·ªß"/>
                            </h1>
                        </div>
                        <group>
                            <group string="Th√¥ng tin c∆° b·∫£n">
                                <field name="employee_code"/>
                                <field name="date_of_birth"/>
                                <field name="age" readonly="1"/>
                                <field name="gender"/>
                                <field name="marital_status"/>
                                <field name="ethnicity"/>
                                <field name="religion"/>
                            </group>
                            <group string="CMND/CCCD">
                                <field name="identity_number"/>
                                <field name="identity_issued_date"/>
                                <field name="identity_issued_place"/>
                            </group>
                        </group>
                        <group>
                            <group string="ƒê·ªãa ch·ªâ">
                                <field name="permanent_address"/>
                                <field name="current_address"/>
                            </group>
                            <group string="Li√™n h·ªá">
                                <field name="phone"/>
                                <field name="personal_email"/>
                                <field name="work_email" readonly="1"/>
                            </group>
                            <group string="üì± Telegram">
                                <field name="telegram_chat_id" placeholder="123456789"/>
                                <field name="telegram_enabled"/>
                                <div class="text-muted" colspan="2">
                                    <i class="fa fa-info-circle"/> 
                                    L·∫•y Chat ID t·ª´ @userinfobot tr√™n Telegram
                                </div>
                            </group>
                        </group>
                        <group>
                            <group string="Th√¥ng tin c√¥ng vi·ªác">
                                <field name="department_id"/>
                                <field name="job_title"/>
                                <field name="manager_id"/>
                                <field name="hire_date"/>
                                <field name="years_of_service" readonly="1"/>
                                <field name="contract_type"/>
                                <field name="work_location"/>
                                <field name="work_shift"/>
                            </group>
                            <group string="H·ªçc v·∫•n &amp; Chuy√™n m√¥n">
                                <field name="education_level"/>
                                <field name="major"/>
                                <field name="school"/>
                                <field name="graduation_year"/>
                                <field name="certificates"/>
                                <field name="special_skills"/>
                            </group>
                        </group>
                        <group>
                            <group string="Li√™n h·ªá kh·∫©n c·∫•p">
                                <field name="emergency_contact_name"/>
                                <field name="emergency_contact_relationship"/>
                                <field name="emergency_contact_phone"/>
                                <field name="emergency_contact_address"/>
                            </group>
                            <group string="T√†i kho·∫£n h·ªá th·ªëng">
                                <field name="user_id" readonly="1"/>
                                <field name="username" readonly="1"/>
                            </group>
                        </group>
                        <notebook>
                            <page string="T√†i li·ªáu ƒë√≠nh k√®m">
                                <group>
                                    <group>
                                        <field name="photo" widget="image" class="oe_avatar"/>
                                        <field name="photo_filename" invisible="1"/>
                                    </group>
                                    <group>
                                        <field name="identity_scan" widget="image"/>
                                        <field name="identity_scan_filename" invisible="1"/>
                                        <field name="diploma_scan" widget="image"/>
                                        <field name="diploma_scan_filename" invisible="1"/>
                                    </group>
                                    <group>
                                        <field name="contract_scan" widget="image"/>
                                        <field name="contract_scan_filename" invisible="1"/>
                                        <field name="health_check_scan" widget="image"/>
                                        <field name="health_check_scan_filename" invisible="1"/>
                                    </group>
                                </group>
                            </page>
                            <page string="L·ªãch s·ª≠ thay ƒë·ªïi">
                                <field name="history_ids" readonly="1">
                                    <tree string="L·ªãch s·ª≠">
                                        <field name="change_date"/>
                                        <field name="change_type"/>
                                        <field name="changed_by"/>
                                        <field name="changes"/>
                                        <field name="reason"/>
                                        <field name="approved_by"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="activity_ids" widget="mail_activity"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>

        <!-- Search View -->
        <record id="view_hr_employee_extended_search" model="ir.ui.view">
            <field name="name">hr.employee.extended.search</field>
            <field name="model">hr.employee.extended</field>
            <field name="arch" type="xml">
                <search string="T√¨m ki·∫øm nh√¢n vi√™n">
                    <field name="name"/>
                    <field name="employee_code"/>
                    <field name="department_id"/>
                    <field name="job_title"/>
                    <field name="phone"/>
                    <field name="work_email"/>
                    <field name="state"/>
                    <filter string="Ho·∫°t ƒë·ªông" name="active" domain="[('state', '=', 'active')]"/>
                    <filter string="Ch·ªù duy·ªát" name="pending" domain="[('state', '=', 'pending')]"/>
                    <filter string="Kh√¥ng ho·∫°t ƒë·ªông" name="inactive" domain="[('state', '=', 'inactive')]"/>
                    <group expand="0" string="Nh√≥m theo">
                        <filter string="Ph√≤ng ban" name="department" context="{'group_by': 'department_id'}"/>
                        <filter string="Tr·∫°ng th√°i" name="state_group" context="{'group_by': 'state'}"/>
                        <filter string="Lo·∫°i h·ª£p ƒë·ªìng" name="contract" context="{'group_by': 'contract_type'}"/>
                    </group>
                </search>
            </field>
        </record>

        <!-- Action -->
        <record id="action_hr_employee_extended" model="ir.actions.act_window">
            <field name="name">Qu·∫£n l√Ω nh√¢n vi√™n</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">hr.employee.extended</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="view_hr_employee_extended_search"/>
            <field name="help">Qu·∫£n l√Ω th√¥ng tin h·ªì s∆° nh√¢n vi√™n</field>
        </record>
    </data>
</odoo>