<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- ============================================== -->
        <!-- üé® MODERN FORM VIEW - ENHANCED DESIGN          -->
        <!-- ============================================== -->
        <record id="view_hr_employee_extended_form_modern" model="ir.ui.view">
            <field name="name">hr.employee.extended.form.modern</field>
            <field name="model">hr.employee.extended</field>
            <field name="priority">5</field>
            <field name="arch" type="xml">
                <form string="Th√¥ng tin nh√¢n vi√™n">
                    <header>
                        <button name="action_activate_profile" string="‚úì K√≠ch ho·∫°t h·ªì s∆°"
                                type="object" class="btn-success"
                                attrs="{'invisible': [('state', '!=', 'pending')]}"/>
                        <button name="action_deactivate_profile" string="‚äó H·ªßy k√≠ch ho·∫°t"
                                type="object" class="btn-warning"
                                attrs="{'invisible': [('state', '!=', 'active')]}"/>
                        <button name="action_terminate_profile" string="‚úó ƒê√°nh d·∫•u ngh·ªâ vi·ªác"
                                type="object" class="btn-danger"
                                attrs="{'invisible': [('state', '==', 'terminated')]}"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,pending,active,inactive"/>
                    </header>
                    <sheet>

                        <!-- Employee Header with Photo -->
                        <div class="oe_title" style="position: relative;">
                            <field name="photo" widget="image" class="oe_avatar" 
                                   style="float: right; width: 150px; height: 150px; border-radius: 50%; 
                                          box-shadow: 0 10px 30px rgba(0,0,0,0.15); border: 5px solid white;"/>
                            <label for="name" class="oe_edit_only" style="font-size: 14px; color: #718096;"/>
                            <h1 style="margin-top: 20px;">
                                <field name="name" placeholder="H·ªç v√† t√™n ƒë·∫ßy ƒë·ªß" 
                                       style="font-weight: 700; color: #2d3748;"/>
                            </h1>
                            <h3 style="margin: 5px 0; color: #667eea;">
                                <field name="job_title" placeholder="Ch·ª©c v·ª•" class="oe_inline"/>
                            </h3>
                            <h4 style="margin: 5px 0; color: #718096;">
                                <i class="fa fa-building-o"/> 
                                <field name="department_id" placeholder="Ph√≤ng ban" class="oe_inline"/>
                            </h4>
                        </div>

                        <!-- Main Information Cards -->
                        <group>
                            <group string="üìã Th√¥ng tin c∆° b·∫£n" class="o_hr_animate">
                                <field name="employee_code" readonly="1" 
                                       style="font-weight: 700; color: #667eea;"/>
                                <field name="date_of_birth"/>
                                <field name="age" readonly="1" 
                                       widget="badge" decoration-info="age &lt; 30" 
                                       decoration-success="age &gt;= 30 and age &lt; 50" 
                                       decoration-warning="age &gt;= 50"/>
                                <field name="gender"/>
                                <field name="marital_status"/>
                                <field name="ethnicity"/>
                                <field name="religion"/>
                            </group>
                            
                            <group string="üÜî CMND/CCCD" class="o_hr_animate">
                                <field name="identity_number"/>
                                <field name="identity_issued_date"/>
                                <field name="identity_issued_place"/>
                            </group>
                        </group>

                        <group>
                            <group string="üè† ƒê·ªãa ch·ªâ" class="o_hr_animate">
                                <field name="permanent_address" placeholder="ƒê·ªãa ch·ªâ th∆∞·ªùng tr√∫"/>
                                <field name="current_address" placeholder="ƒê·ªãa ch·ªâ t·∫°m tr√∫"/>
                            </group>
                            
                            <group string="üìû Li√™n h·ªá" class="o_hr_animate">
                                <field name="phone" placeholder="+84 xxx xxx xxx" 
                                       widget="phone"/>
                                <field name="personal_email" placeholder="email@example.com" 
                                       widget="email"/>
                                <field name="work_email" readonly="1" 
                                       widget="email"/>
                            </group>
                        </group>

                        <group>
                            <group string="üíº Th√¥ng tin c√¥ng vi·ªác" class="o_hr_animate">
                                <field name="manager_id" 
                                       domain="[('id', '!=', id)]"/>
                                <field name="hire_date"/>
                                <field name="years_of_service" readonly="1" 
                                       widget="badge" decoration-info="years_of_service &lt; 1" 
                                       decoration-success="years_of_service &gt;= 1 and years_of_service &lt; 5" 
                                       decoration-primary="years_of_service &gt;= 5"/>
                                <field name="contract_type"/>
                                <field name="work_location"/>
                                <field name="work_shift"/>
                            </group>
                            
                            <group string="üéì H·ªçc v·∫•n &amp; Chuy√™n m√¥n" class="o_hr_animate">
                                <field name="education_level"/>
                                <field name="major"/>
                                <field name="school"/>
                                <field name="graduation_year"/>
                                <field name="certificates" placeholder="Danh s√°ch ch·ª©ng ch·ªâ..."/>
                                <field name="special_skills" placeholder="K·ªπ nƒÉng ƒë·∫∑c bi·ªát..."/>
                            </group>
                        </group>

                        <group>
                            <group string="üö® Li√™n h·ªá kh·∫©n c·∫•p" class="o_hr_animate">
                                <field name="emergency_contact_name"/>
                                <field name="emergency_contact_relationship"/>
                                <field name="emergency_contact_phone" widget="phone"/>
                                <field name="emergency_contact_address"/>
                            </group>
                            
                            <group string="üíª T√†i kho·∫£n h·ªá th·ªëng" class="o_hr_animate">
                                <field name="user_id" readonly="1"/>
                                <field name="username" readonly="1"/>
                            </group>
                        </group>

                        <!-- Telegram Integration -->
                        <group string="üì± Th√¥ng b√°o Telegram" class="o_hr_animate">
                            <group>
                                <field name="telegram_chat_id" placeholder="Nh·∫≠p Chat ID t·ª´ @userinfobot"/>
                                <field name="telegram_enabled" widget="boolean_toggle"/>
                            </group>
                            <group>
                                <div class="alert alert-info" style="border-radius: 10px; padding: 15px;">
                                    <i class="fa fa-info-circle fa-2x" style="float: left; margin-right: 15px; color: #4facfe;"/>
                                    <strong>H∆∞·ªõng d·∫´n l·∫•y Chat ID:</strong><br/>
                                    1. M·ªü Telegram v√† t√¨m bot <strong>@userinfobot</strong><br/>
                                    2. G·ª≠i tin nh·∫Øn <strong>/start</strong><br/>
                                    3. Copy Chat ID v√† d√°n v√†o √¥ b√™n tr√°i
                                </div>
                            </group>
                        </group>

                        <!-- Notebook with Tabs -->
                        <notebook>
                            <page string="üìé T√†i li·ªáu ƒë√≠nh k√®m" class="o_hr_animate">
                                <group>
                                    <group string="·∫¢nh ƒë·∫°i di·ªán">
                                        <field name="photo_filename" invisible="1"/>
                                    </group>
                                    
                                    <group string="CMND/CCCD Scan">
                                        <field name="identity_scan" widget="image" 
                                               style="border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);"/>
                                        <field name="identity_scan_filename" invisible="1"/>
                                    </group>
                                    
                                    <group string="B·∫±ng c·∫•p Scan">
                                        <field name="diploma_scan" widget="image" 
                                               style="border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);"/>
                                        <field name="diploma_scan_filename" invisible="1"/>
                                    </group>
                                    
                                    <group string="H·ª£p ƒë·ªìng Scan">
                                        <field name="contract_scan" widget="image" 
                                               style="border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);"/>
                                        <field name="contract_scan_filename" invisible="1"/>
                                    </group>
                                    
                                    <group string="Gi·∫•y kh√°m s·ª©c kh·ªèe">
                                        <field name="health_check_scan" widget="image" 
                                               style="border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);"/>
                                        <field name="health_check_scan_filename" invisible="1"/>
                                    </group>
                                </group>
                            </page>
                            
                            <page string="üìú L·ªãch s·ª≠ thay ƒë·ªïi" class="o_hr_animate">
                                <field name="history_ids" readonly="1">
                                    <tree string="L·ªãch s·ª≠" decoration-info="change_type == 'create'" 
                                          decoration-success="change_type == 'update'" 
                                          decoration-warning="change_type == 'delete'">
                                        <field name="change_date" string="Ng√†y thay ƒë·ªïi"/>
                                        <field name="change_type" string="Lo·∫°i" widget="badge"/>
                                        <field name="changed_by" string="Ng∆∞·ªùi thay ƒë·ªïi"/>
                                        <field name="changes" string="N·ªôi dung"/>
                                        <field name="reason" string="L√Ω do"/>
                                        <field name="approved_by" string="Ng∆∞·ªùi duy·ªát"/>
                                    </tree>
                                </field>
                            </page>
                            
                            <page string="üí¨ Ghi ch√∫" class="o_hr_animate">
                                <field name="notes" placeholder="Th√™m ghi ch√∫ v·ªÅ nh√¢n vi√™n..." 
                                       style="min-height: 200px;"/>
                            </page>
                        </notebook>
                    </sheet>
                    
                    <!-- Chatter -->
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="activity_ids" widget="mail_activity"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>
    </data>
</odoo>
